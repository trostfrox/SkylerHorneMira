from django.http import HttpResponse
from django.shortcuts import render

from .forms import *


def index_view(request):
    if request.method == 'GET':
        return HttpResponse('hello world')


def register(request):
    if request.method == 'POST':
        form = SignUpForm(request.POST)
        if form.is_valid():
            form.save()
            return HttpResponse('Registered')

    else:
        form = SignUpForm()
    return render(request, 'register.html', {'form': form})
